/*! For license information please see index.bundle.js.LICENSE.txt */
(()=>{"use strict";function e(e,r,o,c){!function(e,t){const n=`[${e}="${t}"]`,r=document.querySelector(n);if(!r)throw new Error(`Incorrect selector for the request absence button: ${n}`);r.click()}(e,r),function(e,r){const o=document.getElementById("ui-components-portals-container");let c=!1;const s=(o,s)=>{for(const s of o)if("childList"===s.type){const o=s?.target?.className;if("Dialog-module__PE94udd0__v9-2-2"===o){const o=document.querySelector('[data-action-name="absence-type-select"]');if(o&&!c){const s=document.querySelector('button[id="absence-type-select"]');if(!s)throw new Error('There is no element button[id="absence-type-select"]. HTML structure is changed.');c=!0,s.click(),t(o),n(e,r)}}}},i=new MutationObserver(s),u={childList:!0,subtree:!0};i.observe(o,u)}(o,c)}function t(e){new MutationObserver(((e,t)=>{let n=!1;for(const t of e)if("attributes"===t.type){const e=t?.target?.children?.[0];if(e&&"role"===e?.attributes?.[0]?.name&&"listbox"===e?.attributes?.[0]?.nodeValue){const t=e?.children?.[3];t&&!n&&(n=!0,t.click())}}})).observe(e,{attributes:!0,subtree:!0})}function n(e,t){!function(e,t){setTimeout((()=>{const n=document.querySelector("#absencePeriod-start-date-input");if(!n)throw new Error("There is no element for startDateInput. HTML structure is changed.");n.addEventListener("click",(()=>{setTimeout((()=>{r(n,e),function(e){setTimeout((()=>{const t=document.querySelector("#absencePeriod-end-date-input");if(!t)throw new Error("There is no element for endDateInput. HTML structure is changed.");t.addEventListener("click",(()=>{setTimeout((()=>{r(t,e),setTimeout((()=>{const e=document.querySelector("#absencePeriod-end-date-input");if(!e)throw new Error("There is no element for end date input. HTML structure is changed.");const t=e.closest('[data-test-id="end-datepicker"]');if(!t)throw new Error("There is no element for rangeDatePicker. HTML structure is changed.");const n=t.parentElement?.parentElement?.previousElementSibling;if(!n)throw new Error("rangeDatePickerLabel is not reached. The HTML structure is changed.");n.click(),setTimeout((()=>{const e=document.querySelector('[data-test-id="absence-form"]');if(!e)throw new Error("There is no element for absence form. HTML structure is changed.");if(!e.querySelector('[data-action-name="submit-request-button"]'))throw new Error("There is no element for form submit request button. HTML structure is changed.");setTimeout((()=>{const e=document.querySelector('[data-action-name="dbv2-my-profile-absence"]');e?(e.target="_blank",e.click()):console.error('There is no "Absence Calendar Link" element. HTML structure is changed.')}),1e3)}),200)}),200)}),200)}),{once:!0}),t.click()}),200)}(t)}),200)}),{once:!0}),n.click()}),200)}(e,t)}function r(e,t){e.focus(),document.execCommand("insertText",!1,t),e.dispatchEvent(new Event("change",{bubbles:!0})),e.select(),e.value=t,e.dispatchEvent(new Event("change",{bubbles:!0}))}chrome.runtime.onMessage.addListener((async(t,n,r)=>{if("ADD_WFH_FOR_THIS_WEEK"==t.action){if(!(t?.requestAbsenceButtonAttrName&&t?.requestAbsenceButtonAttrVal&&t?.requestHOStartDate&&t?.requestHOEndDate))throw new Error("Parameters are not correctly passed.");e(t.requestAbsenceButtonAttrName,t.requestAbsenceButtonAttrVal,t.requestHOStartDate,t.requestHOEndDate)}}))})();
//# sourceMappingURL=index.bundle.js.map